Episode: 4215
Title: HPR4215: My home lab
Source: https://hub.hackerpublicradio.org/ccdn.php?filename=/eps/hpr4215/hpr4215.mp3
Transcribed: 2025-10-25 21:31:36

---

This is Hacker Public Radio Episode 4215 for Friday the 27th of September 2024.
Today's show is entitled My Home Lab.
It is hosted by Lee and is about 15 minutes long.
It carries a clean flag.
The summary is about setting up a rack mounted home lab.
Hello I'm Lee.
Today I'll talk about my experience building a home lab.
It's a first a bit of history.
I'd already been running network attached storage and experimenting with home servers for
quite a few years.
So when I was living at my parent's house I had set up the family and network attached
storage device.
First when I think was manufactured by Lacey and the next one by QNAP.
These were great for storing files but not that good if you wanted to run your own custom
my services on the network, both in terms of the difficulty of hacking them and their
limited processing power.
I did set up a small server manufactured by and I'll be careful how I pronounce this
Thecus which ran a cut down version of Windows Server called Essentials.
And later a more powerful home server which was an HP ProLine microserver.
And this still is in use at my parent's place where it hostsplex access remotely by my
sister as well as Rx and it provides an always online backup file storage used by my dad.
So I'll just talk about my motivations here.
First I always seem to have spare hard disks left over as well as spare computers of
various descriptions.
It seemed repurposing them as servers was an obvious thing to do.
However, at the same time I was slightly neurotic about leaving computers on 24-7 because
of the power they consume and the noise and also the space they take up, especially if
they were going to be just sitting there and I would only be using them once in a while.
The most obvious reason for having a home server is to store files for daily use as well
as archives that might only want accessing once in a blue moon.
This is certainly more tidy and easier to manage than having stacks of DVDRs which was
at one time my chosen option for backups.
However with the advent of cloud storage and specifically my case Dropbox I found there
was less need to use the local file server since everything got automatically synced
to every device I used.
Now although it might sound like I'm repeating myself I'll mention offline backups.
These are actually a different kettle of fish from the archives I just mentioned since
they backed up on demand rather than synchronously and typically to an external hard drive or separate
network attached storage device then that device is switched off when not in use.
A few years ago I took a scrap and old for this buffalo from my employer and was able
to resurrect it and set it up for my dad to do offline backups.
Now a few years ago I was itching to really start building my own sort of server lab.
Although at the time I don't think I had even heard the term home lab.
I'd even started fabricating something out of aluminium sheets and a no mother board
and some hard drives which I set up on my parents' place.
Although this didn't last long since there was a fire in the room caused by dodgy heat
or a haste and I had not bought any malfunction of my Frankenstein server.
The present incarnation of my home lab came about around 2021 to 22, mainly after seeing
what other people had built on the home lab subreddit.
I recollected having encountered very server cabinets or offices over the years and my
thought was I want one of those.
By then I'd moved into a bedset and in the centre of the flat there was a very small
sort of room stroke closet originally meant for hanging coats.
It did not have any power outlets and someone had put in some rickety wooden shelves.
If I was going to have a home lab of any description this was the only feasible location.
First I needed power so without asking my landlord I drilled a hole into the closet room through
the back wall of the adjoining room and fed a mains extension cable through having taken
the plug off which I then wired back on again.
It was a bit dodgy to say the least but later I was able to use my questionable charm
to persuade a visiting electrician who was doing some rewiring in the flat to do the
job properly and fit a set of sockets in the cup as well.
Second I needed a network connection.
My router was in the opposite corner of the main room in my bedset so I ran ethernet cable
around the skirting board keeping it in place every 15 centimetres with a cable tacker
gun and I fed it through yet another hole I drilled through the wall into the cupboard
room.
By this time I had mastered the basics of wiring an ethernet socket box with a punch down
tool so networking was now sorted.
Thirdly I needed a rack and quickly worked out that while the space in the cupboard was
wide enough for a standard 19 inch rack it was now only deep enough so I would have to
get a slim rack of something like half the normal depth.
Consequently all my equipment would also have to fit this form factor.
I got a suitable rack delivered from a bridge company called All Metal Parts for under
100 quid.
To accommodate the rack on the ground in the cupboard I removed the low shelves from
the aforementioned set of wooden shelves and it just squeezed in between the legs they
tried to get rid of the wooden shelves altogether.
So then I got my first server chassis.
It was an in-win one new short depth chassis which was silver and 25 centimetres deep so
I thought about building my first server into this chassis and although I had quite
a supply of parts including a spare PC it was hoping to serve a rise.
I soon realised my existing stuff was not going to cut the mustard and was going to need
to buy more bits specifically for the lap.
For one thing even if I could reuse a motherboard there was no way a standard processor fan was
going to fit in the one new high chassis.
The chassis had front fans that blew air through the thing like the winds of hell, these
fans screamed, they really did.
These could obviate the need for a dedicated CPU fan but in order that I would not receive
complaints from my neighbours and be able to sleep at night myself in an adjoining room
I decided they had to go.
I realised for such a server you need a small low power high efficiency components for
the processor lots of cores and low profile memory chips.
So while I was figuring all that out I still wanted to use some of the desktop grade
components I had.
So I was on the hunt for one or more cases that would be told or at least to you in order
to accommodate these bits.
What I ended up with was a couple of chassis one that was only stocked by a company in
Germany and fitted quite well the other I ordered was actually 2D when I received it but
thankfully my father even at the age of 8 he is still handy with an angle grinder and
I got him to cut it down to size for me.
So before I go on to describe the home lab in its present form I've just mentioned a
few things I discovered or became more familiar with during the whole process.
These are really just my personal preferences and are not necessarily the right way of doing
things or better than doing things in a different way.
Firstly hard drives I've been using almost exclusively Western digital reds or the red pro
range.
These are lower power and meant to be always on for many years.
In fact if possible I'd advise never switch them off as I think switching them off and
on is when they're most likely to fail although that could just be superstition.
Another thing about hard drives is for my use case I prefer to use fewer high capacity
drives rather than lots of lower capacity drives.
I think this is not so great if you want to have some redundancy and easy replacement
when there's a failure which you'd get from ride but I decided this on the basis that
fewer drives probably use less power and I get redundancy from having data distributed
in more than one place anyway.
For mounting components in the rack, clip nuts are hit and miss in times of slot in the
min.
I think there's some tool that makes insert in the mezier but I just struggle through
since you only really have to do it once.
Similarly I found sometimes the screws going easy and sometimes they do not quite align
and are really fiddly.
I don't really have a solution for that but what I would recommend is getting rack brackets
that support the serve for both of the front and the back.
I know in principle network equipment is held in by screws at the front but heavier
items then slide down at the back due to gravity which I don't like so a bracket really
helps.
Cooling is another issue when running several servers in a confined space.
When one of my hard drives failed within warranty I rightly or wrongly suspect overheating
might be an issue so I wanted the temperature in the closet and found it reached 30 Celsius
and that was not even in summer.
My research told me 25 Celsius would be a better temperature to aim for and at that
point I did some serious design work how I would have fans and ventilation system for
the cupboard.
Then when I mentioned these plants to my notoriously demand avoidant neurodivergent
friend and neighbour he came up with a classic bit of advice, just cracked the door open.
So after all that that's why I did and overheating was no longer a problem although I'd
met there is a fraction more decibels in the whole way than before.
Now to describe my home lab in its present form.
At the top is a silver one-year case which houses what I refer to as my NAS or network
attached storage.
It's because it's powerful enough to act as a file server and provide some lightweight
networking services like Git Repositories but it's not much good for anything too memory
or process for Inchensive.
I ended up putting an Intel nook in this case.
It connects to a single 10 terabyte Western Digital Red Tire Drive.
System is running a Ubuntu and stuff is shared via Sambo or SSHFS and it stays in sync
with other servers using Resilio Sync, formerly known as BitTorrent Sync.
For while I did not have this on 24-7 but I warmed the idea of doing so just act as
an always in sync back up after one of the hard drives died on my other server and I lost
quite a number of files albeit non-essential ones.
Keeping it on does not use that much power, pandas to my superstition about knock power
cycling hard drives and adds to the overall redundancy of my health setup.
Below that is a black 2u case.
This is the one that had to be cut down to size and I refer to this as my DVR server since
its primary purpose is to act as a digital VJ recorder since it runs Jelly Finn and open
source media server software package and is constantly recording television mainly films
broadcast over the air and received by an HD home run box that is on the same land.
There is 2 Western Digital Reds totaling around 40 terabytes of storage.
The system is a 12-quad Intel jobby with 16 gigabytes of RAM.
I use some of the spare hard drive space to also keep a Ubuntu mirror on the server I
guess in case my internet is down and I want to install some package on my main PC.
This used to be an arch mirror but practical reasons forced me onto a Ubuntu a few months
ago.
Underneath that I have a rudimentary unmanaged Cisco switch and I have nothing more to say
about it than it does the job.
In case I also want to run my own Wi-Fi network also have the talk talk route to resting
atop the switch and I did use this for a while but then found it was more error prone than
using the Wi-Fi of my main router and in any case I did not really have a use for it.
Then below that is an ancient Cisco router I was playing about with this when learning
Cisco is part of a corresponding study course but it lacks some of the modern features
you'd really want if using a Cisco router seriously, things like proper encryption for
example.
I did think it was quite cool with a bit of hacking to feed it the IP addresses of all
the major advertising sites on the internet and then use it to block them but it was only
a Mickey Mouse project since to do it properly you'd need to keep the list constantly updated.
On the ground floor of the rack is a second to you server but first I'll mention the
Mac mini resting on top of it.
This is a quad core i7 thing with 16 gigabytes of RAM running Manjaro but it has very
limited non-agreable internal storage that's not much use for anything I can think of.
At the bottom two you server I call my Proxmox box, it has an 8 core AMD Ryzen motherboard
and CPU which originally came from a desktop PC, has 64 gigabytes of RAM so can run a number
of virtual machines simultaneously without any problems.
This box I keep switched off except when I'm using it.
I haven't given it too much hard disk space, something like three terabytes as its
roll is not storage but mainly setting up random VMs and containers.
For anyone not familiar with Proxmox it's a very reliable and easy to use sweet specifically
made for doing virtualization on your own server.
I'll mention it does cost a bit of money for that license which is renewed annually.
At one point I had not used it for a while and the license expired but the system basically
still worked and when I got back to using it again I renewed the license and upgraded
it to the latest version.
Most recently I used the Proxmox server to provision a Windows server instance and set
up a custom development environment I could potentially use when remotely developing software
for one of my clients, although to be honest in the end I never found an occasion when
I needed to do that work remotely.
To finish off my home lab the piece of the resistance is a spare Android phone resting
on top of it all, an old Samsung and this runs HTTP SMS.
I use this to collect all my two factual authentication SMS messages and relay them so I can
get them directly on my computer.
My main mobile keeps switched off most of the time so I don't work well with distractions
doing this so I don't have to keep referring to my phone every 5 minutes whenever I log
into something or ever.
So at the end of the day was it worth having a home lab, I don't know, energy prices are
high here about and I worry about my contribution to CO2 emissions.
Then I think of all the electricity my heating uses in winter and realise that the two servers
I keep on only use a tiny fraction of that and I rationalise the servers at actually helping
keep the flat warm at least apart from in summer when they're not really helping.
On the plus side I get to play with cool things like self-hosted software and have a fancy
little dashboard of all these services.
The tool for doing that is called dashy.to although to be honest in the end I gave up on my
tanking and dashboard and I just go to the web address directly which 99% of the time
is jelly fin and it's nice to have a server or two I can always remote access into wherever
I am typically when I'm round up my parents I use 0 tier which is a software based VPN
that lets you do just that.
So like me you like to hear wearing equipment as you walked through your hallway or don't
want to be tied to the cloud and entirely dependent on your internet connection or fancy
installing open source software to provide services you otherwise be dependent on corporations
for or practice skills at home that you can use to get a better job and then building
a home lab might be something worth considering.
If you already have a cool home lab no not yet recorded an episode of Hacker Public Radio
then again that's something to consider.
Anyway enough from me thanks for listening and bye for now.
You have been listening to Hacker Public Radio at HackerPublicRadio.org today's show
was contributed by a HBR listener like yourself if you ever thought of recording podcasts
and click on our contribute link to find out how easy it really is.
Hosting for HBR has been kindly provided by an onsthost.com, the internet archive and
our sings.net.
On this otherwise status today's show is released on their creative commons attribution 4.0
