Episode: 289
Title: HPR0289: Running Linux on Compact Flash
Source: https://hub.hackerpublicradio.org/ccdn.php?filename=/eps/hpr0289/hpr0289.mp3
Transcribed: 2025-10-07 15:35:49

---

How would you like to launch your programs in about a third the time it takes to do so now?
How would you like to do that for about a hundred bucks? I thought so
Hi DeepGeek here and today on HPR we're running a system on compact flash
for speed so what is compact flash which I will also refer to as CF since it's
kind of their trademark well CF is a form of flash media you know like what
some people call a thumb drive or sometimes a pen drive what makes CF
different from a thumb drive is that on it on the inside of the CF card it is
like an ATA disk drive this makes it easy to use as a computer disk drive
with inexpensive adapters another difference is speed which is to say in a word
faster so what we are talking about is using a fast thumb drive like media as
a disk on our computer to make things go faster so let's talk about something we
all have on our computers which is a disk hard drive you might ask yourself aren't
these fast media they plug right into the motherboard for speed don't they well
yes they are fast and they have a very high rate of transferring that to the
motherboard once they get at it you see there are three things that cause time
delay in a hard disk and they are head-seek time which is a time it takes for
the disk head to move rotational delay which is the second one this is how long
it takes for the data on the disk plate to rotate into position under the
disk head and the third is a transfer to the motherboard this is why enterprise
disks have faster heads smaller and more platters and higher rotational speeds
so it is a little disconcerting to experiment with this technology and to
find that a fast flash chip that can put out data say 45 megabits per
second can be the disk drive that can transfer data in bursts of 300 megabits
per second but that is a burst not the average it turns out that if you eliminate
the seek time and eliminate the rotational delay which is what you do when
you eliminate moving parts by going to flash chips that you can get more speed
out of the flash media is this a panacea no with that speed comes cost when you
begin shopping for CF with specific speeds the fastest speeds go for about ten
dollars a gigabyte nice thing is that you can get a two gig CF card for twenty
dollars I also priced a fast south state drive and at 64 gigabytes it was a
little over six hundred dollars and I also found a 16 gigabyte CF card for
about one hundred and sixty dollars interesting enough while researching for
this episode I got an ad the mail for the thumb drive from TigerDirect.com and
talked a lot about the speed of the port of a 64 gigabyte thumb drive but I
knew that a 64 gigabyte should be much more than that and saw through the ad
copy now a good chunk of our listenership at HPR is in the know about Linux and
this is something that the Windows crowd is just left out of as you may know
Windows wants to be on one desk and that this certainly should not be a two
gigabyte desk however with Linux you can get kind of surgical about what goes
where on which desk getting all the boots time stuff and your software onto two
gigabytes is quite doable in Linux so let's get a little specific about the
advantages I have a Western digital desk with an average seek time of about 20
microseconds now it used to take me six seconds to kick off Firefox now it takes me
to some screens I used to see a flash if I don't see anymore for example
logging into the computer there used to be a flash a successful between the
login and the window manager kicking in now that I now I don't see that anymore
lastly I find that mousing around the menu system feels a lot more sensitive
because everything is just quicker so what is the nature of flash media well
first of all it is chiefly limited by the number of rights basically one hundred
thousand rights before a portion of the memory dies but reading is unlimited
interesting to note that CF when it fails fails on the right this is
contrasted to this drives where the right goes through and subsequent reads can
fail I talked a lot about speed and flash media is rated just like your CD
drive you know 52 access a speed well to compete with hard disks we need to
buy the fastest CF media we can which is 300x speed this is about 45 megabits per
second enough theory let's get into how to do this first let's talk
converters the converter will be the go between between your CF card and the
disk bus on the motherboard the exception will be if you are building a new
computer in which case you can get a motherboard with a CF card reader on the
motherboard itself I chose a start tech dot com model where you can easily change
the card either in the rear of the case or in the front in the panel that fits
into a floppy slot mind plugged into the SATA bus the start tech dot com model
also comes in an IDE model it takes its power from a floppy power cable from
the power supply it's a matter of screwdriver turning now there are some
cheap ID converters that stand up in an IDE slot on your motherboard they are
priced really cheap and you would have to open the computer case to change
the card the cheapest of the support only the old PIO mode of dad transfer I
would recommend that you avoid this you want the faster UDMA support lastly
there are also special converters with the form factor of a laptop hard drive
for those of you who might want to replace your laptop drive for this
technology by the way I haven't tried it but these cards should use less
power than a disk drive you might get more battery life on a laptop of this
technology I bought a slow memory cover the converter then I went to a memory
specialist called memory x.net and got the proper 300 x speed card it is a
major difference after opening the case twisting screwdrivers and plug-in
plugs it was installed the hardware is the easy part let's talk about
installing devian Linux on this you can use the Linux of your choice of course
but the manual devian installer gives me complete control you may have to
install then change settings manually in your slash atc slash fs tab file for
the purposes of this installation we are going to need a root partition a
slash us all partition a slash wall partition and a special partition I call
slash home to here is the rationale since it is the number of rights that
shorten the life of this media we are going to put all the data files and all
the log files on a regular hard disk now I really like this so down the road
I might get a 16 gig cf card and file my hard disk and just you know like be
ready for when the when the 16 gig card wears out but the jury is still out on
that I want the read only files on cf I create a 500 megabyte root directory on
the cf card and this root partition has a standard slash home directory I
want to keep this for an important reason I want all those personal
configuration files for all my applications to be on that cf disk for fast access
I make a slash home to on my hard disk for my data all my videos augs etc it only
takes a little getting used to I also put the slash VAR the slash VAR on a hard
disk as well as a swap on the hard disk this puts my frequently
righted files all on the hard disk the software directory slash us r I
created as a 1.5 gig partition on the cf card my software is about a gig so I
have a little playroom if you need more you can use a squash file system to
compress it you would have to have a bigger like a three gig partition on your
hard disk and then make a squash of it and then use a dd command to copy it
onto the cf disk if you want to check the size of your current slash us r you
can use the command du to find its size now I have to do an aside here you guys
know I do the lightweight app series I find that I absolutely need to have
Firefox, Conqueror and K3B now these last two Conqueron K3B bring in a lot of
of the KDE environment with them so in some cases some dependencies of other KDE
apps are already satisfied this means that to have a small system a small slash
us r I chose heavier KDE apps in some cases where other lightweight apps would
have used more disk space with their own dependencies then a KDE app sharing a
dependency with Conqueror or K3B that was a long geeky sentence okay with the
standard Debian installer you can choose this partition scheme all on the
install except if you need to use a squash file system now with each of the
cf disk partitions you choose the EXT2 over the EXT3 file system you do this
because you are setting up mainly to read and journaling is just not needed
journaling also increases the rights to the media which is clearly undesirable
here for the same reason you set the mount option called no a time every time you
use a file Linux updates the a time the last access time we just don't need to
do this writing to the cf disk then it's a matter of letting the install
a finish the install and you can enjoy your new faster system I have to
acknowledge clatu series the bad apples as a heavy influence on this episode
in the episodes where he discusses splash top a on motherboard Linux that a
few motherboards have and the file hierarchy standard I could see the path of
research needed to pull this off shouts out to Chong of next tech systems also
thank you
thank you for listening to H.P.R. sponsored by caro.net so head on over to
