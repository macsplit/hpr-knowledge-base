Episode: 2284
Title: HPR2284: Resurrecting a dead ethernet switch
Source: https://hub.hackerpublicradio.org/ccdn.php?filename=/eps/hpr2284/hpr2284.mp3
Transcribed: 2025-10-19 00:52:54

---

This in HPR episode 2,284 entitled, re-selecting an Ethernet switch.
It is hosted by MiWid and in about 15 minutes long and carrying a clean flag.
The summary is, replacing a failing capacitor in the power supply of an Ethernet switch to make it work again.
This episode of HPR is brought to you by an honesthost.com.
Get 15% discount on all shared hosting with the offer code, HPR15, that's HPR15.
Better web hosting that's honest and fair at an honesthost.com.
Hello, heck of a big radio, this is Murphy on Micro if you prefer.
Today's episode will be one of the kind I make you listen while I do stuff.
I personally like those and I think it's, if advised, a very cheap way to get a show done.
A bit more than four years ago, I bought two units of an 8-port gigabit Ethernet switch
to be used one at my place and one at my parent's house as the main switches for the computer networks there.
The units did their job until a while ago, the one at my place went toes up.
I simply hooked up an old backup switch and did not think much about it any further.
Until about two weeks ago, I got a call from my brother who's with my parents and he said,
well, things are about half an hour I can't get to the internet.
So the next thing I tried was to connect from the outside, which worked fine,
but I could not get to his computer and the only thing in between was that set switch.
So the point of failure was very obvious.
With my help on the phone, my brother was able to hook up a backup solution
to bring the family back online and I was left with two broken switches.
At this point I was getting curious. Two switches of the same kind broken in
roughly the same time I had my one here, so let's have a look inside, it can't hurt.
I opened mine up, found the fault, which was a broken capacitor in the power supply,
replaced it, and it works like a charm again.
End of episode.
Well, not quite. Fixing the first unit would have been a great show for HPR,
but I just missed this opportunity.
Luckily, I got a second chance.
I'm now at my parents' house sitting in front of the second unit and hoping it's the same
disease to be cured with the same measures.
And I thought I would give it a go to record the show for HECA Public Radio on this one.
So I verified the device is not working and I will start unscrewing the housing.
It's a metal housing, solid, sturdy, that's one of the reasons why I like those, those switches.
I already removed three of the five screws and I will undo the next two.
I unscrewed all the screws.
So the lid is open.
What I can see, there are two printed circuit boards in the housing.
One smaller one is the switch power supply with the main power source.
And the big green PCB with all the electronics for the Ethernet switch stuff.
So I can power it up just once again.
And I see the power LED is blinking.
And if you listen carefully, you can see some periodic buzzing sound.
Let me see if I can record this.
So it sounds like there is some startup in the power supply and then
something goes wrong and the power LED goes off again and
when it tries it again and again and again and it's blinking,
blinking away, not getting booted at all.
I turned it off again.
So let's have a look with a multimeter at the voltage of the power supply.
I know from the other device it's a 3.3 volt power supply and I already found the points
which connect the meter on the green board just shortly after the on board power connector
where the power supply is plugged in and then there's an additional buffer capacitor
and some filtered choke.
And after those we have some wire hooks where we can easily connect our meters.
Turning it on again and I see on the voltmeter voltage jumping up and down between zero and
two point something's re-ish volts.
So it's obvious it's unstable and we can try to have a look at this voltage with the oscilloscope.
Turn it off again.
I will hook it up at the same point where I had the voltmeter and I will have a picture of this
in the show notes.
So let's try it on again.
Still blinking away.
And I see a changing voltage on the oscilloscope.
Let's slow down the trace and it just trigger to catch the rising voltage.
So what I can see on the scope here is now the voltage starts to rise.
Slide the above the 3.3 volts point.
Then it's stable therefore about 300 milliseconds and then it starts dropping almost down to zero.
And this repeats at the same rate as the blinking of the LED.
I managed to take a picture of the screen of the scope so you can see the
the fall of the voltage right there.
We have verified the voltage is unstable.
It's just collapsing when the load is switched on when the computer
in there tries to boot.
And as you will see on the picture the output capacitor on the power supply is
bulging the housing of the final electrolytic capacitor is bulging on the top
which is already an indication that there's something wrong with this capacitor.
So I will now remove the power supply PCB from the whole housing, unplugging the
connector to the other board.
And now unscrewing the mounting screws of the power supply PCB.
One screw.
Now the screw at the socket and then the same in the main time I will power up the soldering
irons because I know it will be soldering this one capacitor.
So now I have the PCB of the power supply in my hands and at the edge of the board
close to the output there is this one electrolytic capacitor.
Let's see if the soldering iron is already hot.
Okay so now I have to unsolder two pins of this capacitor and one way to do it is to just
play a little bit additional solder to have flux with it.
And then I will try to use the solder suction pump to remove the solder of those two
contacts. So I make sure the whole solder block is well molten and then I go with the suction pump
and just pull it away.
Especially with if you have single-sided PCBs with only one side of copper and no copper
plating in the holes like you have on multi-layered digital boards and so on.
Using the solder suction pump is a very good way and it normally works very well.
Then remove all this solder and now this let's heat it up again.
Yeah now this blocks better.
And if the suction pump worked you can see basically the wire of the component
in the middle of a hole and the area around it is already free so it's moving freely.
Just sticking to some glue on the upside of the PCB so a little bit more force
and now I have the capacitor in my hand.
This multimeter has the possibility to measure capacity.
The capacitor is 2,200 microfarad,
10 volt. The meter can only do 20 microfarad, not 2,200 but from the experience I had with my
other unit. I think it will be enough to test the capacitor.
Let's see, should switch to capacity measurement first.
No, it's still enough to get an over-range so the capacitor has still more than 20 microfarads,
which is what you should expect from a device rated to 2,200 microfarads.
I do not have the same size of component.
I have 2,200 microfarads, 25 volts, not 10 volts. It's more than double the size of the
original component. But there's plenty of room in the housing beside the power supply boards
so I will just mount it, bend over, lying, lying sideways, which should work fine.
So I'm bending the pin of the capacitor to fit in the holes of the
board where the original component was.
Bending a little bit more. So I have the two wires sticking out of the PCB
on the solder side and I just have to apply new solder to the system.
So clipping off the excessive ends.
And then I would expect the thing to work again.
So I'm optimistic and will mount the board right back into its place.
First the screws at the power cable connector.
Filling with the screws.
One and the last one, which also stick around connection for the power supply
to the housing to the ground lead of the mains cable.
Tightening the nuts.
So then replacing the plug on the main board from the power supply
looks nice. Then replace the main mains cable and just turn it on and see what happens.
And immediately power supply lights up, power LED lights up, steady and stable,
and the rest of the LEDs perform normal blinking like for a regular boot of the device.
Looks nice. Let's take the multimeter and connect it again to see if the voltage is.
So the voltmeter says it's 3.29 volts. You can then have another look with the scope.
Just to verify that things are fine again.
Which I have no doubt. I don't know.
So it's one steady trace at a 3.3 volt line. No visible hum on the signal.
The device booted nicely. I think it's done. I have to close the housing, screw it up again,
and then I'm left for the second. Perfectly working even at switch.
So this leaves me with a warm, fuzzy feeling being very satisfied.
Not for just getting this switch working again because I was pretty, pretty confident that
it was the same problem which could be fixed easily.
But I'm much, much more proud of now having a show for Hacker Public Radio recorded.
And to have gotten this done, finally, finally.
If you listen till now, hope you enjoyed the show. Have fun. See you next time. Bye.
You've been listening to Hacker Public Radio at Hacker Public Radio dot org.
We are a community podcast network that releases shows every weekday, Monday through Friday.
Today's show, like all our shows, was contributed by an HPR listener like yourself.
If you ever thought of recording a podcast, then click on our contributing to find out
how easy it really is. Hacker Public Radio was founded by the digital dog pound and the
infonomicum computer club. And it's part of the binary revolution at binrev.com.
If you have comments on today's show, please email the host directly, leave a comment on the
website or record a follow-up episode yourself. Unless otherwise status, today's show is released
under Creative Commons, Attribution, ShareLite, 3.0 license.
