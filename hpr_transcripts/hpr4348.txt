Episode: 4348
Title: HPR4348: Resizing the root partition on a PC
Source: https://hub.hackerpublicradio.org/ccdn.php?filename=/eps/hpr4348/hpr4348.mp3
Transcribed: 2025-10-25 23:27:24

---

This is Hacker Public Radio Episode 4348 for Wednesday 2 April 2025.
Today's show is entitled, Resizing the Root Partition on a PC.
It is hosted by MrX, and is about 10 minutes long.
It carries an explicit flag.
The summary is, what happened when I hastily resized the Root Partition on my DELOP
to Plex PC.
You are listening to a show from the Reserve Q. We are airing it now because we had free
slots that were not filled.
This is a community project that needs listeners to contribute shows in order to survive.
Please consider recording a show for Hacker Public Radio.
Hello and welcome Hacker Public Radio audience.
My name is MrX, and welcome to this podcast.
As usual, I'd like to start by thanking the people at HPR for making this service available
to us all.
HPR is a community-led podcast provided by the community for the community.
That means you can contribute to.
I'm sure you all must have something you could send in, something you might like to
send in.
You might have picked up a microphone, a mobile phone, whatever you've got to hand, hit
the record button and send it in.
The people at HPR have made it, I've gone to a lot of effort to try and make it easy to
send in a show.
So why don't you do it?
If you just send in one show a year, we'd have more shows and we'd know what to do with.
So anyway, this all came about, the idea for this show came about.
The background is that what will happen when I noticed that I had a disk space monitor
sitting in the top right hand side of my nomadestop, it was red, and on inspection I discovered
that my root fell system was 87% full.
The root partition was only 37 gigabytes and size, which meant that it was less than
4 gigabytes of space left.
Now just to make it clear, this is Linux, I was running Linux at the time it was actually
been two, just in case, some of these are sitting my windows and wondering if they're
talking about, based on my hard disk was full, that was a bottom line.
And when I was in a thought back about it, I remember the PC was running a bit slower than
usual, and that maybe the lack of thinking about it, the lack of space and the root partition
was probably what was to blame.
And well I had some tasks that I wanted to carry out and I thought well, they'd be better
to do something about the lack of space before they've picked up any bigger problem,
and well as per usual, all this happened when I was a bit short of time and I was in a bit
of a hurry, so lesson one, lesson one, don't do this sort of thing when you're in a bit of a
hurry, because I wasn't a hurry, I didn't spend time doing a complete backup, lesson two,
do a backup, my plan was to get some space back by shrinking my home partition, leaving some empty
space to allow me to increase the size of my root partition. For speed and ease, I decided to use
G-Parted as I have used it many times in the past, I've got a link in my show notes for G-Parted,
it's an excellent tool, but like partition magic in windows, that sort of thing.
So it's not a good idea to try and resize and or move a mounted file system,
so a bootable live version of G-Parted is a good idea. The reason for this is that if you run
G-Parted from your normal Linux operating system and operating system says to write something to
the disk, well, G-Parted is also trying to write or move things on the disk, and as you can imagine
very bad things could and probably would happen. I knew I had an old bootable live CD-ROM with G-Parted
on it, as I had used this many times in the past, though not for a few years. As I was short on time,
I thought this would be the quickest way to get the job done. I booted up the live CD and set up
the various operations such as shrinking the home partition, moving it to the right to leave
space for the root partition, then finally increasing the size of the almost full root partition.
What I didn't realise at the time is that there was a tiny explanation mark on at least one of
the partitions. I probably missed this because I was in a hurry. Lesson 3, don't rush things and
be on the lookout for any error messages. When I clicked the green tick button to carry out
the operations in G-Parted, it briefly seemed to start and almost instantly stopped
seeing that there were errors and that the operation was unsuccessful and something about unsupported
64-bit file systems. At this point, I thought slash hoped that nothing had actually happened.
My guess was the old live G-Parted distribution I was using didn't support EXT4,
so I could be completely wrong on this. Lesson 4, don't use an old version of G-Parted,
particularly when performing operations on modern file systems. I've got a link in the show
which is about the EXT4 file system, so after that I removed the G-Parted bootable cdry and
rebooted my PC. At this point I've got lots of error messages scrolling up the screen.
I then got a message I've never seen before, from memory I think it said journaling.
It then said something about pass 1, pass 2, pass 3 and continue doing this all the way until
pass 5. Then it talked about recovering data blocks. At this point I got very nervous.
I'd all sorts of fears going through my head. I imagined I may have lost all the contents of my hard drive.
The whole experience was very scary. I let it complete all the operations and eventually my
Ubuntu operating system came up and seemed OK. I rebooted the PC and this time it booted
correctly with no error messages and everything was OK. I've often seen things said about
journaling file systems. How good they are though until this point I've never seen any real examples
of them repairing a file system. Both of my route and home partitions were EXT4 and thankfully
EXT4 supports journaling which I believe on this occasion saved me from a great deal of pain.
Lesson 5, it might be a good idea to use journaling file systems.
I've got a link about that in the show notes.
Well this still left me with the original problem and I had little free space on my route file
system. This time I decided to take my time and break the task up into smaller chunks
and not to do it in one go. First I downloaded the newest live distribution version of G-PARTED.
I performed the checks and tests to make sure the download was successful with no errors.
The next day I tried to write it to a CD-ROM, something I haven't done for a very long time.
I initially couldn't understand why I couldn't click on the right button
when I looked at my blank CD using the Ubuntu Nome Disks application. It reported that the
disk was read only. I did a bit of googling and came across a post saying that they had come
across this and that they solved this by installing the CD-ROM writing application.
Brasero, B-R-A-S-E-R-O, Brasero. I've got a link in the show notes about Brasero and
linked to the official website if you're interested. Installing Brasero solved the problem and allow
me to write the image file to the CD-ROM. I was actually surprised that it wasn't installed
as I've used this application in the past. It just goes to show how long it's been since I've
written anything to CD-ROM. I booted the CD-ROM to check that G-PARTED worked and didn't see
any explanation marks on any of my partitions. I was short on time and didn't want to rush things
so decided to stop at this point. Later on, maybe the next day or so I can't remember.
I popped the live bootable G-PARTED CD-ROM running version 1.6.0.3 AMD 64 version into my PC
and booted it up. Everything seemed okay and there were no errors showing.
I took my home partition SDA6 and shrunk it down by about 20GB and then shifted it 20GB to the
right to the end of the disk. This left a 20GB gap at the end of my route partition.
I then increased the size of my route partition SDA5 by approximately 20GB to fill the empty space.
It took G-PARTED about 1 hour and 40 minutes to complete all the operations.
The route partition is now reporting 61% full rather than 86% full.
The route partition is now approximately 53GB in size with 31GB used.
22GB is now free which is a bit more comfortable. I'll include a picture,
a screenshot which I took at the time. My PC is now running much more smoothly.
I removed the G-PARTED from the CD-ROM drive and rebooted the PC to THANKTHFEND
always well and no errors reported. All I can say after all this is that I consider myself
very lucky this time. I hope I learned some valuable lessons along the way.
Well okay I think that's about it for this episode. I hope you found it interesting
and you don't make any daft mistakes like I did. If you want to comment on this or
or send me anything you can contact me at mrx at hpr at googlemail.com. That's MRX ATHPR
the at symbol googlemail.com. So until next time thank you and goodbye.
You have been listening to Hacker Public Radio at Hacker Public Radio does work.
Today's show was contributed by a hpr listener like yourself. If you ever thought of recording
and click on our contribute link to find out how easy it really is. Hosting for hpr has been
kindly provided by an honesthost.com, the internet archive and our syncs.net. On this
otherwise status today's show is released under Creative Commons, Attribution, 4.0 International
License.
