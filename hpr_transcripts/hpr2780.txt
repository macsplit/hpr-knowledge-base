Episode: 2780
Title: HPR2780: My SBC Nextcloud Install Pt. 1 - Hardware
Source: https://hub.hackerpublicradio.org/ccdn.php?filename=/eps/hpr2780/hpr2780.mp3
Transcribed: 2025-10-19 16:44:41

---

This is HPR Episode 2007 180 entitled My SPC Next Cloud Install PD 1 Hardware.
It is hosted by first-time post-minics and is about 23 minutes long and carrying a clean flag.
The summary is how I build myself and close next cloud server using a single board computer and a Ravencloja.
This episode of HPR is brought to you by archive.org.
Support universal access to all knowledge by heading over to archive.org forward slash donate.
Hello, this is Danny, also known as Minix and some circles, message boards, things like that.
I wanted to give an overview of my Next Cloud installation and why I chose it and the particular hardware I'm using and things like that.
Most of my photos and videos and documents have stored on the Google Cloud and I haven't really had any issues with it.
And then one day I got the news that Google Plus was going away and I was a pretty heavy user of Google Plus.
I found it a lot better in Facebook, especially for technology related posts and keeping up with friends that were in, you know, those same kinds of technology-minded circles that I'm in.
And it was a nice platform for sharing things I felt you could really narrow down exactly who you wanted to share with.
And the communities on there were really great and I felt the place was as a whole was a lot less free of drama and less toxic than places like Facebook and Twitter.
So when I found out they were going away, I thought, well, what could be the next service that Google gets rid of?
I remember I had a Google Listen account, which was like their podcast app and it was great. It was really simple and they got rid of that and, you know, through the years they've gotten rid of some of their projects that I thought were really handy.
And so my mind kind of wandered on to, well, what if they get rid of Google Photos or what if they get rid of video storage and things like that.
So I started thinking of an alternative to Google for my storage needs.
And then while I was thinking about that, I got an email that because of the amount of data I was using in storage, I was going to have to start paying for it.
And if there's one way to turn someone off to your service is all of a sudden what was free is now you're having to pay for it.
And I understand why because I was using so much data, but that was kind of the second reason why I kind of turned towards maybe hosting my own data.
And then I thought of other things like privacy issues, you know, I'm not really in control of my data, Google's in control of it.
And one day if they get rid of all the services that I'm using that I just lose everything, not only that, but you have no idea how your data is being used.
If it's used to, you know, advertise towards you like their Gmail application does and how they're actually sharing that data with other companies.
You know, so you never know what they're doing with your data when you're using a online storage service that you're not in control of.
So there I thought, well, I need to figure this out. What would be the best way to do this if I wanted to have all my own data and totally under my control.
And wouldn't have to pay for storage, you know, except for the, you know, the onset of paying for the components.
And doing some research, I found own cloud, which I had used in the past and kind of experimented with on an old model one original model B plus I believe raspberry pi.
And it was super slow at the time and it was very frustrating to use.
And so I looked into own cloud alternatives and I saw a bunch of math there, but I eventually settled on next cloud.
It seemed like it had the most momentum going for it. And as far as being updated regularly and and a lot of community support.
And I thought, okay, well, what would try next cloud? And then I had to think of what, what do I want to host this next cloud service on.
And I had an old PC I wasn't using, but it's an old penium and not always not the fastest, but it's pretty energy hungry too.
And it's not exactly dependable just because of its age. So I didn't want to do something on a tower system like that.
I wanted to be low power and I wanted to be small. That way I could just fit it, you know, in my entertainment center or just somewhere out of the way.
And I didn't want it to be too costly either. And as to so I started looking at raid, I mean, not raid arm configurations.
And I ran across people using raspberry pies for next cloud and and other single board computers like that.
And then I found a company called pine 64 that made a single board computer arm based computers.
And they had a rock pro 64 that seemed perfect for for my use case. And it's a 64 bit arm single board computer.
And it has four gigabytes of RAM, which is I was I was always also looking for something that a decent amount of RAM.
And it has an EMMC module to store your your operating system or whatever else you want to on it on the board itself.
And using raspberry pies in the past, I wasn't impressed with the throughput I got on USB sticks and SD cards and things like that.
And so I wanted to use the EMMC as well. So I kind of settled on the rock pro 64 and an EMMC module.
And and I got a few of the accessories to go with it. They have a bought all this from pine 64 they have a USB adapter that you just put your EMMC module on and plug it into your your laptop or computer or whatever to
to image your OS onto the EMMC module. And that was super cheap. I can't remember exactly how just a few dollars basically for the adapter.
And the module itself was like $10 maybe $15 it was a 16 gigabyte module. So that would be kind of like my internal OS hard drive basically except it's you know flash storage.
And I bought a heat sink for it for the for the main processor, which is an RK 3399 made by rock chip.
And it's one of the more powerful arm processors for single board computers that's out there.
And I needed a power supply. I got that. I think that was about 13 bucks.
So I had all the components I needed to build the board itself. And now I just needed a way to house it.
I'm looking through all my electronic crap. I have a huge pile of just you know stuff. I've stripped off computers in the past and components and things that I bought but didn't really have a use for.
And I found that no media sonic. It was a four bay external drive or you know external.
What would you call it? It's a it's like a enclosure. It's a plastic enclosure. It holds four bays. What was great about this thing.
I got it from micro center. I'm lucky enough to have a micro center just demonstrate for me. I got it from them on a black Friday cell.
And it was marked down to like 50 bucks. I think it was originally 150 something like that. And I had never really found a good use case for it.
But what's so good about it is it has you know hardware array built in so the ray controller is actually part of the enclosure.
So so that offloads you know building your rate or maintaining the rate from your computer's processor to the to the enclosure itself.
You know and I had kind of played with it in the past but I never really found a good use case scenario for it.
And I had kind of data all over different hard drives scattered around my my workshop and stuff.
So I thought we know what if that board fits into this enclosure that would be perfect because I could have the board
and the storage all in one little configuration and I wouldn't have to buy a separate
a separate enclosure just for the rock pro 64.
And so I measured the the inside of the media sonic enclosure and found that it matched up really well with the specs
they had for the rock pro 64 that it would fit inside there. But the caveat would be I could only use two drives in the
four bay enclosure in order to have room for the for the for the single board computer to fit in the bottom.
And that wasn't a big deal because I wasn't really using it for anything in the first place.
So I went ahead and ordered the the single board computer and when I dug out the old enclosure I opened the
front panel and put the the rock 64 in there rock pro 64 and it fit perfectly right in the bottom it
it would fit and I could close the the bay door and everything so so this seemed like a pretty good
solution. The only thing is is that I needed a way to access the the power port it uses a barrel
on one side of the board and also the usb on the on the outside of the board too and once the the
bay door was closed on the enclosure I didn't have any didn't have any way to get to it so I could do
I thought about just opening up the enclosure itself which was kind of difficult because it's a solid
molded plastic piece and trying to get to the guts of the ray controller and and the
the standoffs that they use for the for the for the USB connection and then solder that directly
to the board itself and I thought that would be a good solution but then I had the power connector
to worry about too and what was I going to do with that I didn't really want to tie it in onto
to the power of the enclosure because I I didn't think it would be powerful enough to power the
the computer as well as the drop as the enclosure itself so so what I ended up doing is on the back
of the enclosure on the bottom right hand side I used my Dremel and I made a small hole
that was just big enough to fit the cables for the USB cable and the and the power supply
connection into that hole and I made it pretty round and then I went to the hardware store and I
found a rubber grommet to put it you know a rubber grommet with a hole in the middle to put into
that hole so that it wouldn't the plastic wouldn't scrape against the cables or anything and it came
out really nice you you could you can't even tell that I I modified it that way it just looks like
it has a factory hole in the back for some weird reason so that worked out pretty well so
another thing I needed to think of is how what I mount this to the bottom of the median
of the the media sonic enclosure and the way I did this is luckily on the board there's four holes
drilled in the corners of the board already and I had some rubber standoffs just little square
pieces of rubber from another project I was working on it was an old external hard drive that
crapped out on me and but I stripped it down I kept the parts and I had some rubber standoffs
and so I took some tiny screws and I put them through the holes on the board and then on the
bottom of the screw I I put the rubber standoff so I just screwed the the screw right through the
rubber standoff and then on the rubber on the bottom of the rubber standoff I used some gorilla glue
and I just glued that to the bottom of the enclosure so so the the the board itself has lifted off
the bottom of the enclosure you know to provide some ventilation for heat and stuff like that
and it worked out really well now there is a a USB cable connection in the front of the board that
faces the front of the enclosure and because of space limitations I couldn't connect a USB cable to
that and still be able to close the bay door so I looked I looked around for a solution for that
and I found on amazon they sell a ride angle USB cable and it's really small and it angles up
instead of instead of 180 degrees it's a 90 degree angle so I can plug it into there and then
the cable comes straight up above the board and then I can run it towards the back through that hole
and still be able to close that bay door and that all worked out really well I took a little bit of
modification as far as the enclosure went and and I was able to mount the the board to the bottom
of the enclosure and run all the cables out through that small hole and the great thing about this
enclosure is that it had its own fan too and you could set it to automatic it had a temperature
sensor in there and it would just turn on and off depending on when it needed it and running
some stress tests on the board I could hear the the fan itself turn on and off which is weird because
I would think that they would use the temperature sensors on the hard drives themselves to regulate
the fan but somehow it knows how hot it is inside that that enclosure I guess and when that that
board starts heating up the fan cuts on or you can just turn it on all the time you don't have to
use the automatic fan controller to sleep on but even when it's on it's very quiet and so I had
the enclosure part ready and I had the board set in there and then I had loaded the the OS
to the EMMC module and now I needed some hard drives and I've got a ton of hard drives
laying around so I tried different ones and I was having problems getting the OS to recognize
to recognize that it is a single hard because the output coming from the rate enclosure makes
it seem like to the OS that it's just one single hard drive right because the rate enclosure
itself does all the rate applications as far as building maintaining the array and when I figured
out in the end is that if you don't have the same kind of hard drive as far as the same brand
and the same model number and things it really gets tricky trying to set up a raid especially when
I was I was setting up a raid one configuration because I didn't really eat speed I just needed
redundancy and that was it and if for some reason if those hard drives don't match
sometimes things go wrong and it just the output that it sends to the board is weird and
garbled but if I'm using the same hard drives the same model the same size and all of that then
I had zero issues so that took a few hours to figure that out swapping hard drives in and out
but once I got the same ones in there I used two four terabyte Samsung hard drives in there and
so that gave me effectively four terabytes of space and raid one configuration but once I got
that figured out everything seemed to run pretty smoothly and and as far as the the board itself
it I didn't have any issues with that either the power supply and the USB cable all that ran out
the back to the hole and also I ordered a heat sink from pine 64 as well that I was able to put
onto the board now the board itself will go and find but the board with the heat sink would not
go in because there are metal rails that the hard drive sit on inside the enclosure itself
and so the board with the heat sink was too tall to go through those metal rails so it was a little
bit tricky I had to put the board in and then you know glue it to the bottom of the enclosure
and then I had to you know kind of angle the heat sink into there after I had already installed
the board through one of the through the spaces between the hard drive rails and put the heat sink
very carefully onto the CPU on the board because I had a little I don't ever use those thermal pads
they give you their crop so I had some good thermal paste on that on that CPU and I put the
heat sink on there and angled it just right so that the drop of thermal paste was spread evenly
and then I had to the heat sink has the plastic punches that go through the holes in the board where
you push down and then it locks and I had to make sure all that was right and I didn't have hardly any
space to work with so it was a little bit frustrating but I finally got it all going and so I had
it all built with the Rock Pro 64 the 16 gigabyte EMMC module and the heat sink on top of the
the arm processor and then I had the right angle USB cable that ran from the front of the board
up and over the board into the back and then I had the power supply running through the back as well
so I really wanted to use eSATA with this board since the enclosure has an eSATA connection
on the back but the board itself doesn't have an eSATA connection it has a PCIe slot so that you
could put and you know a PCIe board with an eSATA connection on there but I just didn't have a room
within the enclosure to add that now if something changes and I can find a way or I find a special
PCIe you know board that I can put into that slot and then I may change it to eSATA but all the
ones I look for were just too big to be able to fit that board in there as well as the two hard
drives so I had to go ahead with USB 3 which which is not a big deal but I would have preferred
the eSATA connection so I have now I have a tiny server and it's got a nice little
single board computer inside the enclosure itself as long as it also with two four terabyte hard drives
and it's all it's all headless so I don't have a desktop or anything like that running it
but I thought since this is kind of a lot of info I'd go into my software setup and installation
on how I got next cloud actually running on this thing and in the next podcast that I make for
HPR so anyway that's that's kind of yet in the show notes I'll put I'll put everything I used
to get this little project running and and then if you if you're interested you can just I'm
just going to put some random Amazon links in there are they're not sponsored anything so feel
to go to them but I'll put that in the show notes and then if you like it this idea then feel
free to build your own and you can usually find me on Google plus or places like that too if you
got any questions or how this was set up or if you're having any issues and so that's pretty
much it on how I built my little totally enclosed next cloud server and it runs really well
I haven't had any major issues except in the beginning just setting up things but it's very fast
and it's all under my control I'm the only admin on systems so I don't have to worry about
privacy or anything like that like I do with using you know Google services or any other
online store services and so next time I'll explain the software installation
and then I'm thinking about doing a third part as well where I'll explain how I did an off-site
backup of my my next cloud and so like just in case you know even though I have redundancy what
if somebody comes in and you know steals my computer or something or you know could be an accident
fire or anything like that and then I lose all my data so I made an off-site backup for this too
and I'll save that for a future episode so this is Minnex signing out and thanks for listening
you've been listening to Hacker Public Radio at Hacker Public Radio dot org we are a community
podcast network that releases shows every weekday Monday through Friday today's show like all our
shows was contributed by an hbr listener like yourself if you ever thought of recording a
podcast then click on our contributing to find out how easy it really is. Hacker Public Radio was
founded by the digital dog pound and the infonomicon computer club and it's part of the binary revolution
at binrev.com if you have comments on today's show please email the host directly leave a comment on
the website or record a follow-up episode yourself unless otherwise stated today's show is released
under creative comments attribution share a life 3.0 license
