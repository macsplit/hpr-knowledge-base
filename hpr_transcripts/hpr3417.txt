Episode: 3417
Title: HPR3417: Ceph cluster hardware
Source: https://hub.hackerpublicradio.org/ccdn.php?filename=/eps/hpr3417/hpr3417.mp3
Transcribed: 2025-10-24 22:58:55

---

This is Hacker Public Radio Episode 3417 for Tuesday the 7th of September 2021.
Today's show is entitled,
Seff Cluster Hardware.
It is hosted by Daniel Person and is about 12 minutes long and carries a clean flag.
The summary is looking into the hardware behind my Seff Cluster.
This episode of HPR is brought to you by an Honesthost.com.
Get 15% discount on all shared hosting with the offer code HPR15.
That's HPR15.
Better web hosting that's Honest and Fair at An Honesthost.com.
Hello Hacker's and welcome to another podcast.
And I'm Daniel Person and today I'm going to talk a little bit about hardware.
I have a Seff Cluster at home and it's a little bit of a storage solution.
And usually you create a noise.
You have large machines with a lot of memory and a lot of disk space in order to save a lot of
things on them and perhaps run your Plex server from it or run any other media server from it.
But in my case I wanted to have a place where I could save all my media and be pretty sure
that it doesn't get corrupted if I lose any data or something like that.
So I want to have a lot of copies of it.
I also have a backup solution where I send it and this was actually prompted even more by
me trying to restore my backup after I upgraded to Windows 10 where all my files were lost
and then I tried to get it from my backup and I got the news that the backup solution had
removed all my files because they thought that it was removed when the Windows server was removed.
So I switched over to Windows 10.
They didn't recognize my computer anymore, thought the old computer was not valid anymore
and removed that backup which was a really hard pain for me and I'm not using them anymore.
So I wanted to have a good local backup and a good backup solution in the cloud.
And I'm thinking about getting a second backup in the cloud as well because this time I lost
to 102.7 terabytes of data originals from my YouTube production and I don't want to lose that again.
You can actually take out all your data from Google so you can export those files again.
I'm not sure that I get the same quality but I at least get something back which is really nice.
So my backup solution back at home is a safe cluster and that's because we are running
a safe at work as well so I wanted to have something that I can both use as a backup solution
and also use as a test bed for my development at work or my work.
So I created a safe cluster I started with what can I have that is sheep and small.
So I was thinking raspberry pie that could be something can we actually use raspberry pies and put
a hardware on them so we can have a hard disk on them and I actually found a solution from Geekworm
where you had a package with an extra card where you put an SSD on it and then you could mount
that to your Raspberry Pi. I bought a Raspberry Pi 3 with one gig of memory which in hindsight
was a lot less than I needed and it's also an ARM processor but I got it to work and tested with
my wife's old SSD so it's just 256GB or something like that but it actually worked in that configuration
but getting safe to work on it was a real pain because there were no packages for ARM
and I needed to rebuild the safe clusters. I had to build my own packages which took a week or
something and I couldn't build all of it because some of it was written in node and building something
in node requires more than one gig of memory so that was not an option but eventually I got it to
build with those packages and I got safe to work on it but I'm not running it in my cluster.
I'm using it as a client to do my backup so if my computer isn't on it still would do backups
from my cluster using that Raspberry Pi which was pretty nice. The Raspberry Pi was 75 or 50
dollars or something like that in Sweden and then the packaging for a container and also this
extra card was 75 dollars and then you have a lot of shipping and taxes and so on because you buy
things abroad and that's really expensive in Sweden. So this was not really a good way to have
small, usable hosts in my safe cluster so I was looking at something else and I talked to my
company about it and because it was something that could help my work they were really keen
on helping me out so they said that we can buy the computers and you just supply them with some
hard disks so you can have your backups. We do a solution like that so first we tried to buy a
mini PC, ASUS, PM40, BC556, ZV which has a Celeron CPU in it with four gigabytes of memory and
it had a 64 gigabytes SSD in an M2 slot which was really nice. I didn't really look at what the
CPU could do because it was more than enough. You don't really need that much CPU power but you
need at least four gigabytes of memory if you have a little bit of a larger node, a little bit larger
hard disk in it. So there was also an extra slot for two and a half inches hard drives. I could put
that in as well and I found some hard drives that was not SSDs but they were really large and not
that expensive so I could buy a four terabyte disk for about 150 dollars or something like that
so I put that in but that hard drive was a bit thicker so it didn't really fit inside of the casing
in a good way so I had to do some customization to get that to work so this was not a really good
node. So after that we skipped that one and bought another one called MSIQB5 mini PC and the last one
cost me 265 US dollars plus the hard disk and the new one here MSIQB5 mini PC is about 312
dollars so a little bit more expensive but it's much nicer. It has a Celeron 525U
for gigabytes memory and RAM and it has a 64 hour gigabytes SSD in an M2 slot as well
and what's really nice with this one was that you mounted the hard drive in the floor of the
machine and then you had a cable up to the motherboard so you had a little bit more space to actually
fit this little bit thicker SSD in it which was a really nice trade off. It was a little bit
more expensive but I now can put either 4 terabyte or 5 terabyte disk in these and if you have a
couple of those you have a lot of redundancy. In my case I run my SEF cluster with at least two copies
up to three copies so I have a lot of redundancy I can lose two machines and be pretty sure that
everything works just fine so doing updates and so on on the SEF cluster would be really easy.
So this is my setup at the moment I'm running a SEF cluster with the latest Octopus release
and I'm having a solution that can actually reach it from my Windows machines and my Linux
machines which is really nice so I have an extra hard drive with a lot of space in it.
If you're interested in seeing these machines and how large they are and how they are set up
I have a YouTube video that I go through the machines and show them. I'm not a pro at that but I
think it went pretty well at least and I will put that in the description. I hope that you found
this interesting. I hope that you have some more information about what kind of hardware you can
get. I reached out to a hardware forum and they thought that that solution was not that good.
They thought that perhaps you should use some other computer called an HPE EC208 which had two
SATA drives for five and a half inches drives which could be cheaper and also better for the
environment because you can have more space in one unit. I haven't looked into that but that could
be really interesting. Those are a little bit larger and for a test cluster that is not really
needed but if I will add more host to this one I will look into other tiny or mini computers that
I can put in to get more space. I hope that you like this little podcast and I hope to
and I hope that you use a lot of open source software and if you want to reach out just put a
comment in the comment section field and I will read it whenever I get the time.
You've been listening to Hacker Public Radio at HackerPublicRadio.org.
We are a community podcast network that releases shows every weekday, Monday through Friday.
Today's show, like all our shows, was contributed by an HPR listener like yourself.
If you ever thought of recording a podcast then click on our contribute link to find out
how easy it really is. Hacker Public Radio was founded by the Digital Dog Pound and the
Infonomicon Computer Club and is part of the binary revolution at binrev.com. If you have
comments on today's show please email the host directly leave a comment on the website or record
a follow-up episode yourself. Unless otherwise stated today's show is released under creative
comments, attribution, share a like, 3.0 license.
