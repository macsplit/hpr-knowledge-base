Episode: 4415
Title: HPR4415: Sony WH-CH700N A2DP stops working in Fedora
Source: https://hub.hackerpublicradio.org/ccdn.php?filename=/eps/hpr4415/hpr4415.mp3
Transcribed: 2025-10-26 00:26:19

---

This is Hacker Public Radio episode 4,415, for Friday the 4th of July 2025.
Today's show is entitled Sony WHCH700NA2 DP stops working in Fedora.
It is the 240th show of Ken Fallon, and is about 11 minutes long.
It carries a clean flag.
The summary is, how months of troubleshooting came down to a comment in a forum.
Hi everybody, my name is Ken Fallon and today I want to talk to you about a troubleshooting
experience I've had with my Sony WH-C8700N noise canceling headphones.
So, I want to talk to you about the headphones themselves.
They're over the ear, they've got cushions on them.
They've got an on-off button, which if you press and hold, it'll go into pairing mode.
They're Bluetooth.
On the right side you got the on-off button with a micro USB charging port.
A 3.5 inch jack, 3.5mm jack for regular audio, and then a noise canceling on or off button.
On the right hand side you have play control so you can pause, fast forward and rewind,
and you've got the volume down buttons.
These are all physical buttons on them.
These headphones are no longer replaced, they're extremely comfortable, and they do noise
canceling very well.
They're now replaced by capacitive touch headphones, which I have found to be absolutely terrible.
Anything that does not have physical buttons, for example, car dashboards that require you
to touch a touchscreen instead of tactile buttons is bad UI design.
When you use this back in the 50s, we apparently have forgotten this.
So yes, we've had a few episodes on this on a HPR.
Noise canceling, what that does is works on the principle that any wave can be canceled
by an opposing wave of the same amplitude but out of phase.
So when one is going up and the other is going down.
So if you have two kids jumping on a trampoline and they're both jumping at the same time,
they're creating a deconstructed wave, so they basically go nowhere.
If the timers, so that as one goes down and the other one goes up, then they can increase
the amplitude.
And you often see that with acrobat on a seesaw, where one jumps up, and then as the other
one comes down, they jump up and then go higher and higher and higher into there.
And that basically is the fundamentals of how resonant frequency works in the ham radio.
But this is not about ham radio, no.
This is about noise canceling headphones.
So these things listen to the background noise, and what they hear, they basically invert
and play that back to your ears.
So from your ear point of view, the noise from the outside is cancelled by this anti-noise
that's coming in, okay?
So I've had these for years, can't recommend them highly enough, I've got them from myself
then I got them from the kids.
They have taken a lot of abuse from teenagers, they've fallen, they've been in accidents,
they've come flying across the room from on occasions, hit walls.
This one is particularly battered, but you can fix them.
It's got cable ties holding on, but I've replaced the backchanners, I've had to come
out of accidents and I've taken them apart and just resulted back on the headphone speakers
and they just worked perfectly and they're fantastic, couldn't be happier with them.
The ear pads are available from third party suppliers, so you can replace those from time
to time, which we do regularly.
And the audio is very good, high quality A2DP sound, which is a profile that's
Bluetooth uses for sending down audio, so instead of, say, if you've got a headset like
this Jabra headset that I have, where it's two-way communication, it uses both channels
to send, so you can use both channels to send audio down instead of having to reserve
one channel for the backward communication, okay, and that will become important later.
So I had these and I decided to upgrade the firmware and I'm not particularly sure
why, but I did.
And at the same time, I upgraded my Fedora 40 laptop from 39 to 40.
And after that, my headset stopped working using the A2DP protocol.
The only thing that would work was the headset, you know, the two-way audio, which is fine
for speech, but it's not fine for listening to music.
If I played it on, if I prepared it to my Android phone, if I got high quality audio, no problem.
If I played it with on my laptop with a physical cable gone into the 3.5mm jack, it also
played fine.
So I did some searching and I found a post that suggested there was an issue related to
the kernel upgrade that there was a patch already submitted and it was scheduled for release
in Vladibadva.
So this is fairly typical when you run Fedora, the things break and then with your two
laser, they're fixed.
So that was fine and I continued on using other headsets in the meantime.
So a few releases, laser still happens, still tried to find out issues why it was happening
couldn't really get to the bottom of it.
Come across several work rounds related to Bluetooth, HGSP profiles, whether it was
pulsodio or pipe wire or a combination of both or what was it.
So every time that they looked at us couldn't really find a solution and then just ended
up having not enough time to continue and I'd leave it for a week or two and then come
back to it and leave it for a week or two and come back to it.
So off then I came across, I decided, okay this is it, I'm tired of this, I need to sit
down and actually dedicate some time to actually fixing this problem.
And then I finally came across a post that said, this is a known behavior when using Bluetooth
audio and Linux on hands-free mode.
We cannot use A2DP for high quality audio output while simultaneously using Bluetooth
microphone via HSP, HFS due to profile limitations in the Bluetooth specification and currently
Linux audio stack and a link to that discussion is initials.
That of course triggered something and I was thinking to myself, hold on, but these are
just headsets, there is no microphone in this.
Just I literally said that out loud and when I said that I realized, hold on, there is
a microphone in this, there has to be a microphone in order to do the Bluetooth, or in order
to do the noise canceling.
And voila, I had a look at it and I realized that at the time of the upgrade I had disabled
my Zoom H2V2 which miraculously after the upgrade also gained the ability to be playing
audio out its speaker.
So it not only became a microphone, it became a speaker as well.
Well apparently this upgrade had somewhere told my system that these also had a microphone,
now the microphone is not visible anywhere in my system, in the pulse audio volume control.
However, it was being recognized as a microphone.
So what I did to fix this was to reenable my Zoom, disable the Zoom microphone, reenable
my Zoom microphone, set it so that it was disabled for, that it was only a microphone
and not a microphone speaker.
I couldn't do that for the headphones as there was no microphone being shown, but it did
show up as an input device and when I did that it saw that there was another microphone
better than this one and then all of a sudden my audio quality was improved.
Now I don't know about you but I really don't know where to file a laptop because it's
a weird one and I don't know what the moral of the story is really, sometimes perhaps
that troubleshooting is kind of weird and yeah, sometimes it's just obvious things in
the settings that I've months trying to possibly overthink it rather than look at what's
available to me.
What's weird is, even if I look at this now, if I go into my mixer, I have configuration
I've got my audio set, my microphone set, my Zoom set as audio stereo input only and
I see that as an input device.
Spars, my Sony headset is never listed as an input device so that was kind of weird.
You would have expected it to be in the input device rather than maybe if I change the
profile over here, I will do that now, I'm kind of reluctant to do it because it's working.
And when I do, yeah, when I set it to HSPHF it becomes an input device and then of course
you've got half the bandwidth, but the issue is that if I didn't have my microphone on
or have only other microphone available to me, it would have removed that.
So that's pretty much it, weird show.
Your thoughts on this, I don't really know the purpose of the show, although then I have
to get a little of my chest really and yeah, nobody here is, you know, that's it.
Children and tomorrow for a little exciting episode of Hacker Public Radio.
You have been listening to Hacker Public Radio, and Hacker Public Radio does work.
Today's show was contributed by a HBR listener like yourself.
If you ever thought of recording or cast, then click on our contribute link to find out
how easy it really is.
Hosting for HBR has been kindly provided by an honesthost.com, the Internet Archive
and our syncs.net.
On the Sadois status, today's show is released under Creative Commons, Attribution, 4.0 International
License.
